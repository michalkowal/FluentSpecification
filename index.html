<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/FluentSpecification/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/FluentSpecification/assets/img/favicon.ico" type="image/x-icon">
        <title>FluentSpecification - Home</title>
        <link href="/FluentSpecification/assets/css/highlight.css" rel="stylesheet">
        <link href="/FluentSpecification/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/FluentSpecification/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/FluentSpecification/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/FluentSpecification/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/FluentSpecification/assets/css/override.css" rel="stylesheet">
        <script src="/FluentSpecification/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/FluentSpecification/assets/js/bootstrap.min.js"></script>        
        <script src="/FluentSpecification/assets/js/app.min.js"></script>         
        <script src="/FluentSpecification/assets/js/highlight.pack.js"></script>   
        <script src="/FluentSpecification/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/FluentSpecification/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/FluentSpecification/assets/js/mermaid.min.js"></script>
        <script src="/FluentSpecification/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/FluentSpecification/assets/js/html5shiv.min.js"></script>
        <script src="/FluentSpecification/assets/js/respond.min.js"></script>
        <![endif]-->  

        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-139052199-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139052199-1');
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
    </head>
    <body class="hold-transition wyam layout-boxed layout-top-nav no-gutter">    
        <div class="top-banner"></div>
        <div class="wrapper">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/FluentSpecification/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
									<span class="logo-mini"><img src="/FluentSpecification/assets/img/logo-mini.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/FluentSpecification/assets/img/logo-small.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/FluentSpecification/docs">Documentation</a></li>
        <li><a href="/FluentSpecification/built-in">Built-in Specifications</a></li>
        <li><a href="/FluentSpecification/blog">Blog</a></li>
        <li><a href="/FluentSpecification/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar hidden">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/michalkowal/FluentSpecification/tree/master/docs/input/index.cshtml"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"></div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



<div class="jumbotron">
    <div class="container">
        <h1 class="no-anchor">.NET implementation of Specification design pattern</h1>
        <p><b>FluentSpecification</b> is implementation of <i>Specification design pattern</i> with many small, built-in reusable specifications, 
        perfect for validation of <i>Domain Model</i> in <i>Domain-Driven-Design</i> approach and other similar, where system is built around domain objects.</p>
        <p>
            <a class="btn btn-primary btn-lg" href="docs/usage/building-specifications" role="button">Get Started »</a>
        </p>
    </div>
</div>

<div class="container"> 
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-cogs"></i> Fluent API</h2>
		<p>Allows to build and combine specifications in simple and clear way.</p>
	</div>
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-clipboard"></i> Built-in specifications</h2>
		<p>With validation and <i>Linq expression</i> support. Many of them available as negation.</p>
	</div>
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-check-circle"></i> Objects validation</h2>
		<p>Special result with error messages, trace of all used specifications, specifications parameters etc. 
        Can be used not only for domain, but also for DTOs and user input, when you need to log result or present it on UI.</p>
	</div>
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-link"></i> Linq expression</h2>
		<p>Specifications can be used in collections querying. Business logic of repositories can be separated to specifications and use interchangeably.</p>
	</div>
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-database"></i> EF Core support</h2>
		<p>All specifications are tested with <i>EF Core</i> on real database and ca be used without errors.</p>
	</div>
	<div class="col-md-4">
		<h2 class="feature no-anchor"><i class="fa fa-bolt"></i> EF 6 partial support</h2>
		<p>Many of specifications support <i>LinqToEntities</i> (<i>LinqToSql</i>) and can be used in <i>Entity Framework 6</i> queries.</p>
	</div>
</div>

<div class="container">
    <h1>Usage</h1>
    <hr>
<pre><code class="language-csharp hljs"><span class="hljs-keyword">using</span> FluentSpecification;
<span class="hljs-keyword">using</span> FluentSpecification.Core;

<span class="hljs-keyword">var</span> customerSpec = <a href="/FluentSpecification/api/FluentSpecification/Specification">Specification</a>
    <span class="hljs-comment">// Specify not null Customer</span>
    .NotNull&lt;Customer&gt;()

    <span class="hljs-comment">// with Id between 100 and 200</span>
    .And()
    .InclusiveBetween(c =&gt; c.CustomerId, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>)

    <span class="hljs-comment">// and LastName is "Smith"</span>
    .And()
    .Equal(c =&gt; c.LastName, <span class="hljs-string">"Smith"</span>)

    <span class="hljs-comment">// and Customer is active</span>
    .And()
    .True(c =&gt; c.IsActive)

    <span class="hljs-comment">// and Customer property "Email" is ...</span>
    .And(Specification.ForProperty&lt;Customer, <span class="hljs-keyword">string</span>&gt;(c =&gt; c.Email, <a href="/FluentSpecification/api/FluentSpecification/Specification">Specification</a>
        <span class="hljs-comment">// ... valid email</span>
        .Email()

        <span class="hljs-comment">// longer than 15 characters</span>
        .And()
        .MinLength(<span class="hljs-number">15</span>)

        <span class="hljs-comment">// on "gmail.com"</span>
        .And()
        .Match(<span class="hljs-string">"^.*@gmail.com$"</span>)))

    <span class="hljs-comment">// with not empty Item collection ...</span>
    .And()
    .ForProperty(c =&gt; c.Items, <a href="/FluentSpecification/api/FluentSpecification/Specification">Specification</a>
        .NotEmpty&lt;ICollection&lt;Item&gt;&gt;()

        <span class="hljs-comment">// ... contains Item '1000'</span>
        .And()
        .Contains(<span class="hljs-keyword">new</span> Item { ItemId = <span class="hljs-number">1000</span> }))

    <span class="hljs-comment">// and Customer has credit card ...</span>
    .And()
    .NotNull(c =&gt; c.CreditCard)

    <span class="hljs-comment">// ... with valid number</span>
    .And()
    .CreditCard(c =&gt; c.CreditCard.CardNumber)

    <span class="hljs-comment">// and credit card is valid between 2019-03-12 ...</span>
    .And(Specification
        .GreaterThanOrEqual&lt;Customer, DateTime&gt;(c =&gt; c.CreditCard.ValidityDate, 
            <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2019</span>, <span class="hljs-number">3</span>, <span class="hljs-number">12</span>))
        
        <span class="hljs-comment">// ... and 2019-05-31</span>
        .Or()
        .LessThan(c =&gt; c.CreditCard.ValidityDate, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2019</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>)));</code></pre>

    <h2>Is satisfied by</h2>
<pre><code class="language-csharp hljs">customerSpec.IsSatisfiedBy(<span class="hljs-keyword">new</span> Customer
{
    CustomerId = <span class="hljs-number">125</span>,
    LastName = <span class="hljs-string">"Smith"</span>,
    IsActive = <span class="hljs-literal">true</span>,
    Email = <span class="hljs-string">"asmith@gmail.com"</span>,
    Items = <span class="hljs-keyword">new</span> List()
    {
        <span class="hljs-keyword">new</span> Item { ItemId = <span class="hljs-number">1000</span> }
    },
    CreditCard = <span class="hljs-keyword">new</span> CreditCard
    {
        CardNumber = <span class="hljs-string">"5500 0000 0000 0004"</span>,
        ValidityDate = DateTime.Parse(<span class="hljs-string">"2019-03-12"</span>)
    }
}); <span class="hljs-comment">// return true</span></code></pre>

    <h2>Validation</h2>
<pre><code class="language-csharp hljs">customerSpec.IsSatisfiedBy(<span class="hljs-keyword">new</span> Customer
{
    CustomerId = <span class="hljs-number">90</span>,
    LastName = <span class="hljs-string">"Jones"</span>,
    IsActive = <span class="hljs-literal">false</span>,
    Email = <span class="hljs-string">"mjones@hotmail.com"</span>,
    Items = <span class="hljs-literal">null</span>,
    CreditCard = <span class="hljs-keyword">new</span> CreditCard
    {
        CardNumber = <span class="hljs-string">"5500 0000 1"</span>,
        ValidityDate = DateTime.Parse(<span class="hljs-string">"2019-03-01"</span>)
    }
}, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> specResult);    <span class="hljs-comment">// return false</span>

Console.WriteLine(specResult.ToString());
<span class="hljs-comment">// Field 'CustomerId' value is not valid</span>
<span class="hljs-comment">// Field 'CustomerId': [Value is not between [100] and [200]]</span>
<span class="hljs-comment">// Field 'LastName' value is not valid</span>
<span class="hljs-comment">// Field 'LastName': [Object is not equal to [Smith]]</span>
<span class="hljs-comment">// Field 'IsActive' value is not valid</span>
<span class="hljs-comment">// Field 'IsActive': [Value is False]</span>
<span class="hljs-comment">// Field 'Email' value is not valid</span>
<span class="hljs-comment">// Field 'Email': [String not match pattern [^.*@gmail.com$]]</span>
<span class="hljs-comment">// Field 'Items' value is not valid</span>
<span class="hljs-comment">// Field 'Items': [Object is empty]</span>
<span class="hljs-comment">// Field 'Items': [Collection not contains [FluentSpecification.Integration.Tests.Data.Item]]</span>
<span class="hljs-comment">// Field 'CreditCard.CardNumber' value is not valid</span>
<span class="hljs-comment">// Field 'CreditCard.CardNumber': [Value is not correct credit card number]</span></code></pre>

    <h2>Querying</h2>
<pre><code class="language-csharp hljs"><span class="hljs-keyword">var</span> customers = <span class="hljs-keyword">new</span> List&lt;Customer&gt;()
{
    <span class="hljs-comment">// fill customers</span>
};
<span class="hljs-keyword">var</span> result = customers
    .Where(customerSpec.AsPredicate()).ToList();

<span class="hljs-keyword">var</span> dbResult = Context.Customers
    .Where(customerSpec.GetExpression()).ToList();    <span class="hljs-comment">// Or customerSpec.AsExpression()</span></code></pre>

    <h2>Translations / Custom messages</h2>
<pre><code class="language-csharp hljs"><span class="hljs-comment">// Single error message for whole specifications chain</span>
customerSpec
    .WithMessage(<span class="hljs-string">"Validation failed: Incorrect Customer"</span>)
    .IsSatisfiedBy(<span class="hljs-keyword">new</span> Customer
    {
        CustomerId = <span class="hljs-number">90</span>,
        LastName = <span class="hljs-string">"Jones"</span>,
        IsActive = <span class="hljs-literal">false</span>,
        Email = <span class="hljs-string">"mjones@hotmail.com"</span>,
        Items = <span class="hljs-literal">null</span>,
        CreditCard = <span class="hljs-keyword">new</span> CreditCard
        {
            CardNumber = <span class="hljs-string">"5500 0000 1"</span>,
            ValidityDate = DateTime.Parse(<span class="hljs-string">"2019-03-01"</span>)
        }
    }, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> specResult);    <span class="hljs-comment">// return false</span>

Console.WriteLine(specResult.ToString());
<span class="hljs-comment">// Validation failed: Incorrect Customer</span>


<span class="hljs-comment">// Custom messages for each specification</span>
<span class="hljs-keyword">var</span> idSpec = <a href="/FluentSpecification/api/FluentSpecification/Specification">Specification</a>
    .NotEmpty&lt;Customer, <span class="hljs-keyword">int</span>&gt;(c =&gt; c.CustomerId)
    .WithMessage(<span class="hljs-string">"Unknown Customer ID"</span>);

<span class="hljs-keyword">var</span> activeSpec = <a href="/FluentSpecification/api/FluentSpecification/Specification">Specification</a>
    .True&lt;Customer&gt;(c =&gt; c.IsActive)
    .WithMessage(<span class="hljs-string">"Customer is archived"</span>);

idSpec.And(activeSpec)
    .IsSatisfiedBy(<span class="hljs-keyword">new</span> Customer(), <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> specResult);    <span class="hljs-comment">// return false</span>

Console.WriteLine(specResult.ToString());
<span class="hljs-comment">// Unknown Customer ID</span>
<span class="hljs-comment">// Customer is archived</span></code></pre>
</div>

<br>
<div class="container">
    <a href="https://github.com/michalkowal/FluentSpecification/blob/master/LICENSE">
    <img src="https://img.shields.io/github/license/michalkowal/FluentSpecification.svg?color=%23545894&amp;style=popout-square&amp;logo=apache&amp;logoColor=%23D22128" alt="License"></a>
</div>                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    <a href="https://github.com/michalkowal/FluentSpecification"><i class="fa fa-github"></i> GitHub</a>
    <br>
    Copyright © <a href="https://github.com/michalkowal">Michał Kowal</a>.
    <br>
    Generated by <a href="http://wyam.io">Wyam</a>
</p>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <a href="https://github.com/michalkowal/FluentSpecification">
	<div class="github-button"><i class="fa fa-github"></i> GitHub</div>
</a>

<script>
	anchors.add('h1, h2, h3').remove('.no-anchor');
</script>
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>